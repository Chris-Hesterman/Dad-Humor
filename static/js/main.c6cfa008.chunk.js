(this["webpackJsonpdad-jokes"]=this["webpackJsonpdad-jokes"]||[]).push([[0],[,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/dadSmall.252b4f80.png"},,,function(e,t,a){e.exports=a(26)},,,,,function(e,t,a){},,function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(5),c=a.n(s),r=(a(18),a(2)),l=a.n(r),i=a(6),u=a(7),k=a(8),d=a(11),m=a(9),f=a(1),h=a(12);a(20);var j,v=function(e){var t=function(t){var a=t.target.classList,n=e.joke.votes;a.add("thumbClick"),a[1].includes("down")?n-=1:n+=1,e.handleVotes(n,e.jokeId),setTimeout((function(){a.remove("thumbClick")}),250)},a=function(e){var t=Math.ceil((e+10)/3),a=t<=0?0:t>=7?7:t;return{emoji:["\ud83e\udd2c","\ud83d\ude21","\ud83d\ude24","\ud83d\ude41","\ud83d\ude10","\ud83d\ude0f","\ud83d\ude01","\ud83d\ude02"][a],ringColor:["maroon","red","orange","yellow","lime","seagreen","blue","purple"][a]}},n=e.joke,s=a(n.votes).ringColor,c={border:"4px solid ".concat(s)};return o.a.createElement("div",{className:"Joke"},o.a.createElement("i",{onClick:t,className:"far fa-thumbs-down"}),o.a.createElement("p",{className:"Joke-votes",style:c},n.votes),o.a.createElement("i",{onClick:t,className:"far fa-thumbs-up"}),o.a.createElement("div",{className:"Joke-container"},o.a.createElement("p",null,n.joke),o.a.createElement("h1",{className:"Joke-emoji"},a(n.votes).emoji)))},p=a(3),b=(a(24),a(10)),g=a.n(b),J=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={jokes:[],jokeMax:10,flip:"left"},a.jokeFade=o.a.createRef(),a.getJoke=a.getJoke.bind(Object(f.a)(a)),a.collectJokes=a.collectJokes.bind(Object(f.a)(a)),a.handleVotes=a.handleVotes.bind(Object(f.a)(a)),a.sortJokes=a.sortJokes.bind(Object(f.a)(a)),a.handleClick=a.handleClick.bind(Object(f.a)(a)),a}return Object(h.a)(t,e),Object(k.a)(t,[{key:"getJoke",value:function(){var e=Object(i.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://icanhazdadjoke.com/",{method:"GET",headers:{Accept:"application/json"}}).then((function(e){return e.json()}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"collectJokes",value:function(){var e=this;if(localStorage.jokes){var t=JSON.parse(localStorage.getItem("jokes"));setTimeout((function(){e.setState({jokes:t})}),1800)}else j=setInterval((function(){e.getJoke().then((function(t){var a=e.state.jokes,n={votes:0,joke:t.joke,id:t.id},o=a.filter((function(e){return e.id!==n.id}));o.push(n),e.setState({jokes:o})}))}),140)}},{key:"handleClick",value:function(){var e=this;this.jokeFade.current.classList.add("JokeBoard-fadeOut"),setTimeout((function(){e.setState({jokes:[]}),localStorage.removeItem("jokes"),e.collectJokes()}),700)}},{key:"handleVotes",value:function(e,t){var a=this,n=this.state.jokes;n.length=this.state.jokeMax,n=n.map((function(a){return a.id===t?{votes:e,joke:a.joke,id:a.id}:a})),this.setState({jokes:n}),setTimeout((function(){a.sortJokes()}),120)}},{key:"sortJokes",value:function(){var e=this.state.jokes;e.sort((function(e,t){return t.votes-e.votes})),this.setState((function(t){return{jokes:e,flip:!t.flip}}))}},{key:"componentDidMount",value:function(){this.collectJokes()}},{key:"componentDidUpdate",value:function(){this.state.jokes.length>=this.state.jokeMax&&(clearInterval(j),localStorage.setItem("jokes",JSON.stringify(this.state.jokes)))}},{key:"render",value:function(){var e=this,t=this.state.jokes;t.length=t.length>=10?10:t.length;var a=t.length>=10&&t.map((function(t){return o.a.createElement(p.a,{key:t.id,flipId:t.id,stagger:!0},o.a.createElement("li",null,o.a.createElement(v,{joke:t,jokeId:t.id,handleVotes:e.handleVotes})))})),n=o.a.createElement("p",null,o.a.createElement("i",{className:"fas fa-circle-notch"}));return a?o.a.createElement("div",{className:"JokeBoard-container ",ref:this.jokeFade},o.a.createElement("div",{className:"JokeBoard-side"},o.a.createElement("h1",{className:"Title"},"Dad Humor!"),o.a.createElement("img",{src:g.a,alt:"generic dad"}),o.a.createElement("button",{className:"JokeBoard-new",onClick:this.handleClick},"Get New Jokes")),o.a.createElement("div",{className:"JokeBoard"},o.a.createElement(p.b,{flipKey:this.state.flip,spring:"wobbly",className:"JokeBoard-list"},o.a.createElement("ol",null,a)))):n}}]),t}(n.Component);a(25);var E=function(){return o.a.createElement("div",{className:"App"},o.a.createElement(J,null))};c.a.render(o.a.createElement(E,null),document.getElementById("root"))}],[[13,1,2]]]);
//# sourceMappingURL=main.c6cfa008.chunk.js.map